{# @var plugin \thekitchenagency\craftagegate\AgeGate #}
{# @var settings \thekitchenagency\craftagegate\models\Settings #}

{% import '_includes/forms.twig' as forms %}

{% set title = "Page Title"|t('plugin-handle') %}

{% block content %}
    <div class="wrap">
    <div id="content">
        {{ forms.lightswitchField({
            label: "Enabled"|t,
            id: 'isAgeGateEnabled',
            name: 'isAgeGateEnabled',
            instructions: "General Switch"|t,
            on: settings.isAgeGateEnabled
        }) }}

        {{ forms.textField({
            label: 'Minimum Age Allowed',
            name: 'minimumAgeAllowed',
            value: settings.minimumAgeAllowed
        }) }}

        {{ forms.textField({
            label: 'Cookie Name',
            name: 'cookieName',
            value: settings.cookieName
        }) }}

        {{ forms.textField({
            label: 'Redirect URL',
            instructions: 'URL to redirect to if user is under the minimum age',
            name: 'declineUrl',
            value: settings.declineUrl
        }) }}

        {{ forms.selectField({
            label: "AgeGate Type"|t,
            instructions: "Set the type of user action prompted by the banner"|t,
            id: 'type',
            name: 'displayType',
            options: { 'modal': "Modal"|t, 'component': "Component"|t, 'redirect': "Redirect"|t },
            value: settings.displayType
        }) }}
    </div>
    <div id="settings">

        {{ forms.textField({
            label: 'Title of Age Gate',
            name: 'agegateTitle',
            value: settings.agegateTitle
        }) }}

        {{ forms.textField({
            label: 'Content of agegate',
            name: 'agegateContent',
            value: settings.agegateContent
        }) }}

        {{ forms.textField({
            label: 'Agree Button',
            name: 'agegateAgreeButton',
            value: settings.agegateAgreeButton
        }) }}

        {{ forms.textField({
            label: 'Decline Button',
            name: 'agegateDeclineButton',
            value: settings.agegateDeclineButton
        }) }}

        {{ forms.elementSelectField({
            elementType: 'craft\\elements\\Entry',
            label: 'Select Privacy Policy Page',
            name: 'pagePrivacyPolicy',
            elements: pagePrivacy
        }) }}

        {{ forms.elementSelectField({
            elementType: 'craft\\elements\\Entry',
            label: 'Select Cookie Policy Page',
            name: 'pageCookiePolicy',
            id: 'pageCookiePolicy',
            elements: pageCookie
        }) }}

        {{ forms.elementSelectField({
            elementType: 'craft\\elements\\Entry',
            label: 'Age Gate Page',
            name: 'pageRedirection',
            elements: pageRedirected
        }) }}
    </div>
    </div>
{% endblock %}

<style>
    div.wrap {
        display: flex;
        flex-wrap: wrap;
        gap: 30px;
    }
    div#settings-content,
    div#settings-settings{
        flex: 1 1 calc(50% - 30px);
    }
</style>
